"use strict";(()=>{var e={};e.id=839,e.ids=[839],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7347:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>l});var a={};t.r(a),t.d(a,{GET:()=>u});var o=t(9303),i=t(8716),s=t(670),n=t(7070),d=t(3493);let p=process.env.ADMIN_SECRET;async function u(e){if(p&&e.headers.get("x-admin-secret")!==p)return new n.NextResponse("Unauthorized",{status:401});let r=await d._.room.findMany({orderBy:{createdAt:"desc"}});return n.NextResponse.json(r.map(e=>({id:e.id,code:e.code,createdAt:e.createdAt})))}let c=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/rooms/route",pathname:"/api/admin/rooms",filename:"route",bundlePath:"app/api/admin/rooms/route"},resolvedPagePath:"/workspaces/chat4crisis/app/api/admin/rooms/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:x}=c,h="/api/admin/rooms/route";function v(){return(0,s.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:l})}},3493:(e,r,t)=>{t.d(r,{_:()=>o});let a=require("@prisma/client"),o=global.prisma??new a.PrismaClient}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972],()=>t(7347));module.exports=a})();