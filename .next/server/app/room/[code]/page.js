(()=>{var e={};e.id=531,e.ids=[531],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4282:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>l}),t(8254),t(1506),t(5866);var s=t(3191),n=t(8716),a=t(7922),o=t.n(a),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(r,c);let l=["",{children:["room",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8254)),"/workspaces/chat4crisis/app/room/[code]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/workspaces/chat4crisis/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/chat4crisis/app/room/[code]/page.tsx"],u="/room/[code]/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/room/[code]/page",pathname:"/room/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},1835:()=>{},32:(e,r,t)=>{Promise.resolve().then(t.bind(t,6793))},6292:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},6793:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(326),n=t(7577),a=t(5047);function o(){let{code:e}=(0,a.useParams)(),r=(0,a.useSearchParams)(),t="1"===r.get("admin"),o=r.get("name")||"Anonyme",[i,c]=(0,n.useState)([]),[l,d]=(0,n.useState)(""),u=(0,n.useRef)(null);function p(){l.trim()&&(u.current?.send(JSON.stringify({type:"CHAT",content:l})),d(""))}return(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,s.jsxs)("header",{className:"p-4 bg-neutral-900 border-b border-neutral-800 flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"font-semibold",children:["Salle ",e]}),(0,s.jsxs)("div",{className:"space-x-2 text-sm",children:[s.jsx("span",{children:o}),t&&s.jsx("button",{onClick:function(){let e=prompt("Titre de l'\xe9v\xe9nement ?");if(!e)return;let r=prompt("Description ?")||"";u.current?.send(JSON.stringify({type:"EVENT_DISPATCH",title:e,description:r,severity:2}))},className:"px-2 py-1 bg-pink-600 rounded",children:"D\xe9clencher un \xe9v\xe9nement"})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-2 text-sm",children:i.map((e,r)=>(0,s.jsxs)("div",{className:`rounded p-2 ${"EVENT"===e.type?"bg-red-800/30 border border-red-500/40":"SYSTEM"===e.type?"text-neutral-400":"bg-neutral-800"}`,children:["CHAT"===e.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("strong",{children:[e.sender,":"]})," ",e.content]}),"SYSTEM"===e.type&&s.jsx("em",{children:e.message}),"EVENT"===e.type&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-bold text-red-300",children:["ALERTE: ",e.title]}),s.jsx("div",{children:e.description})]})]},r))}),(0,s.jsxs)("div",{className:"p-3 border-t border-neutral-800 flex gap-2",children:[s.jsx("input",{value:l,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&p()},placeholder:"Message...",className:"flex-1 px-3 py-2 rounded bg-neutral-900 border border-neutral-700"}),s.jsx("button",{onClick:p,className:"px-4 py-2 bg-indigo-600 rounded",children:"Envoyer"})]})]})}},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},1506:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,metadata:()=>n});var s=t(9510);t(1159),t(7272);let n={title:"Chat4Crisis",description:"Simulation de crise interactive"};function a({children:e}){return s.jsx("html",{lang:"fr",children:s.jsx("body",{className:"min-h-screen bg-neutral-950 text-neutral-100 font-sans",children:e})})}},8254:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var s=t(8570);let n=(0,s.createProxy)(String.raw`/workspaces/chat4crisis/app/room/[code]/page.tsx`),{__esModule:a,$$typeof:o}=n;n.default;let i=(0,s.createProxy)(String.raw`/workspaces/chat4crisis/app/room/[code]/page.tsx#default`)},7272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,471],()=>t(4282));module.exports=s})();